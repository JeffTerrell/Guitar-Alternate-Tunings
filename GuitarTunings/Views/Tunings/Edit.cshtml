@{
  Layout = "_Layout";
}

@model GuitarTunings.Models.Tuning

<h2>Edit Alternate Tuning</h2>

<h4>Edit this Alternate Tuning: @Html.DisplayFor(model => model.Name)</h4>

<form asp-controller="Tunings" asp-action="Edit", enctype="multipart/form-data", method="post">
    <input type="hidden" asp-for="TuningId" />

    <label asp-for="Name"></label>
    <input asp-for="Name" required/>

    <label asp-for="Notes"></label>
    <input asp-for="Notes" required/>

    <label asp-for="Description"></label>
    <input asp-for="Description" />

    <label asp-for="TuningCategoryId">Tuning Category</label>
    <select asp-for="TuningCategoryId"
            asp-items="ViewBag.TuningCategoryId">
      <option>Please select a Tuning Category</option>
    </select>

    <label asp-for="ImageNameA"></label>
    @Html.EditorFor(model => model.ImageFileA)
    @* <input asp-for="ImageFileA" accept="image/*" /> *@

    <label asp-for="ImageNameB"></label>
    <input asp-for="ImageFileB" accept="image/*" required/>

    <label asp-for="ImageNameC"></label>
    <input asp-for="ImageFileC" accept="image/*" required/>

    <label asp-for="ImageNameD"></label>
    <input asp-for="ImageFileD" accept="image/*" required/>

    <label asp-for="ImageNameE"></label>
    <input asp-for="ImageFileE" accept="image/*" required/>

    <label asp-for="ImageNameF"></label>
    <input asp-for="ImageFileF" accept="image/*" required/>

    <label asp-for="ImageNameG"></label>
    <input asp-for="ImageFileG" accept="image/*" required/>  

    <input type="submit" value="Save" class="btn btn-warning"/>
</form>

<br>

<h3>Artists using this tuning:</h3>
@foreach (var artist in Model.JoinArtist)
  {
    <li>
      <a asp-controller="Artists"
      asp-action="Details"
      asp-route-id="@artist.Artist.ArtistId">@artist.Artist.Name</a>
      <form asp-controller="Tunings" asp-action="DeleteArtist", method="post">
        <input type="hidden" asp-for="TuningId" />
        @Html.Hidden("joinId", @artist.ArtistTuningId)
        <input type="submit" value="Delete Artist" class="btn btn-danger btn-sm"/>
      </form>
    </li>
  }

<br>    

<form asp-controller="Tunings" asp-action="AddArtist", method="post">
    <input type="submit" value="Add Artist" class="btn btn-success btn-sm"/>
    <input type="hidden" asp-for="TuningId" />
    @Html.DropDownList("ArtistId")
</form>


<a asp-action="Index">View All Alternate Tunings</a>
<br>    
<a asp-action="Details"
    asp-route-id="@Model.TuningId">Back to Details for: @Model.Name</a>